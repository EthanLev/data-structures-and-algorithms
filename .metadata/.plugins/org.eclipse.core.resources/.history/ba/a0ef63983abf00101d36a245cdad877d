package linkedlists;

import java.util.*;
import java.io.*;

public class Playlist {

	public static LinkedList<Song> songs = new LinkedList<>();
	public static Scanner scnr = new Scanner(System.in);
	
	public static void main(String[] args) {
		boolean isRunning = true;
		
		while (isRunning) {
			System.out.println("\nOptions: \nadd \nremove \ncount \nplay \nshuffle \nreverse \nquit");
			String choice = scnr.nextLine().toLowerCase();
			
			switch (choice) {
				case "add" : addSong(); break;
				case "remove": removeSong(); break;
				case "count": songCount(); break;
				case "play": play(); break;
				case "shuffle": shuffle(); break;
				case "reverse": reverse(); break;
				case "quit": isRunning = false; break;
				default : System.out.println("Unknown choice");
			}
		}
		
		System.out.println("Exiting Playlist");
	}
	
	// Adds a song to the playlist
	private static void addSong() {
		System.out.println(": add");
		System.out.println("Enter artist: ");
		String artist = scnr.nextLine();
		System.out.println("Enter song title: ");
		String title = scnr.nextLine();
		Song song = new Song(artist, title);
		songs.add(song);
		
		System.out.println(song.getTitle() + " added to playlist");
	}
	
	// Removes a song from the playlist if there are at least 2 songs
	private static void removeSong() {
		if (songs.size() >= 2) {
			System.out.println(": remove");
			System.out.println("Enter artist: ");
			String artist = scnr.nextLine();
			System.out.println("Enter title: ");
			String title = scnr.nextLine();
			Song song = new Song(artist, title);
			
			boolean removed = songs.remove(song); // returns true if song was removed
			
			if (removed) {
				System.out.println(song.getTitle() + " was removed from playlist");
			} else {
				System.out.println("Song not found in playlist");
			}
		} else {
			System.out.println("Playlist needs at least 1 song, cannot remove");
		}
	}
	
	// Return number of songs in playlist
	private static int songCount() {
		return songs.size();
	}
	
	// Print number of songs in playlist
	private static void printSongCount() {
		System.out.println(": count");
		System.out.println(songCount());
	}
	
	// Play all songs in the playlist in order
	private static void play() {
		System.out.println(": play");
		for (int i = 0; i < songs.size(); i++) {
			System.out.println(songs.get(i));
		}
	}
	
	// Shuffles the playlist randomly
	private static void shuffle() {
		System.out.println(": shuffle");
		int size = songs.size();
		Random rndm = new Random();
		
		for (int i = 0; i < size; i++) {
			int val = rndm.nextInt(size);
			
			Song temp = songs.get(i);
			songs.set(i,  songs.get(val));
			songs.set(val, temp);
		}
		
		System.out.println("Playlist shuffled");
	}
	
	
	// Reverses the order of songs in the playlist
	
	
	
	// Saves the playlist to a file
	
	
	
	// Loads a playlist from a file
}

class Song {
	private String artist;
	private String title;
	
	public Song(String artist, String title) {
		this.artist = artist;
		this.title = title;
	}
	
	public String getArtist() {
		return artist;
	}
	
	public String getTitle() {
		return title;
	}
	
	public void setArtist(String artist) {
		this.artist = artist;
	}
	
	public void setTitle(String title) {
		this.title = title;
	}
	
	@Override
	public String toString() {
		return title + ", " + artist;
	}
	
	@Override
	public boolean equals(Object obj) {
		if (this == obj) return true;
		if (obj == null) return false;
		
		Song song = (Song) obj; // cast obj as Song
		return artist.equals(song.artist) && title.equals(song.title);
	}
}
